import{r as u,z as i}from"./index-4vDheKbt.js";function c(){return{data:u(null),loading:u(!1),error:u(null)}}function o(){const a=c();return{...a,refresh:async()=>{var n;a.loading.value=!0,a.error.value=null;try{const t=await i.get("/api/urls"),r=(t==null?void 0:t.data)??null,e=Array.isArray(r)?r:Array.isArray(r==null?void 0:r.content)?r.content:Array.isArray(r==null?void 0:r.items)?r.items:Array.isArray((n=r==null?void 0:r.data)==null?void 0:n.content)?r.data.content:[];a.data.value=e}catch(t){a.error.value=t}finally{a.loading.value=!1}}}}function f(a){const s=c();return{...s,refresh:async()=>{s.loading.value=!0,s.error.value=null;try{const t=await i.get(`/api/stats/overview/${encodeURIComponent(a)}`),r=(t==null?void 0:t.data)??null,e=(r==null?void 0:r.data)??(r==null?void 0:r.result)??r;s.data.value=e||null}catch(t){s.error.value=t}finally{s.loading.value=!1}}}}function v(a){const s=c();return{...s,refresh:async()=>{s.loading.value=!0,s.error.value=null;try{const t=await i.get(`/api/stats/distribution/${encodeURIComponent(a)}`),r=(t==null?void 0:t.data)??null,e=(r==null?void 0:r.data)??(r==null?void 0:r.result)??r??{};s.data.value={device:Array.isArray(e==null?void 0:e.device)?e.device:Array.isArray(e==null?void 0:e.devices)?e.devices:[],city:Array.isArray(e==null?void 0:e.city)?e.city:Array.isArray(e==null?void 0:e.cities)?e.cities:[],referer:Array.isArray(e==null?void 0:e.referer)?e.referer:Array.isArray(e==null?void 0:e.referrers)?e.referrers:[]}}catch(t){s.error.value=t}finally{s.loading.value=!1}}}}function y(){const a=c();return{...a,refresh:async(n,t=7)=>{a.loading.value=!0,a.error.value=null;try{const r=await i.get("/api/stats/compare",{params:{trends:n.join(","),days:t}});a.data.value=(r==null?void 0:r.data)||{}}catch(r){a.error.value=r}finally{a.loading.value=!1}}}}function A(){const a=u(!1);async function s(n){try{return await navigator.clipboard.writeText(n),a.value=!0,setTimeout(()=>a.value=!1,2e3),!0}catch{return!1}}return{copied:a,copy:s}}function h(){const a=c();return{...a,refresh:async()=>{a.loading.value=!0,a.error.value=null;try{const n=await i.get("/api/urls/click-stats"),t=(n==null?void 0:n.data)??null,r=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:Array.isArray(t==null?void 0:t.items)?t.items:Array.isArray(t==null?void 0:t.content)?t.content:[];a.data.value=r.map(e=>({shortCode:e==null?void 0:e.shortCode,totalVisits:Number((e==null?void 0:e.totalVisits)??0),todayVisits:Number((e==null?void 0:e.todayVisits)??0)}))}catch(n){a.error.value=n}finally{a.loading.value=!1}}}}export{h as a,y as b,A as c,f as d,v as e,o as u};
